include includes/header
div(ng-controller="AppFeeds")
	#ma(data-spy="affix")
		.nav.navbar.navbar-default
			.container
				.col-lg-2
					.navbar-header
						a.navbar-brand(href="/")
							i.fa.fa-rss.fa-fw.fa-flip-horizontal
							= config.title
				.col-lg-7
					.navbar-brand Manage All Feeds
				.col-lg-3
					p.navbar-text Next refresh in&nbsp;
						b#nrt {{nrt}}
	.container-fluid#map
		.row
			.col-xs-12
				table.table.table-striped.table-hover
					thead
						tr
							th Icon
							th Name
							th Posts
							th Crawl time
							th Update time
							th.text-center Action
					tbody
						tr(ng-repeat='f in subs',ng:class="{true:'', false:'danger'}[f.crawlSuccesful]")
							td
								i.fa.fa-bookmark-o.fa-fw
							td.col-xs-4
								input.form-control(type="text",value="{{f.title}}",style='background-color:transparent')
							td.text-center {{f.postCount}}
							td
								i.fa.fa-fw(ng:class="{true:'fa-check', false:'fa-times'}[f.crawlSuccesful]")
								| {{f.crawlTime}}
								br
								| ({{f.crawlUpdate}})
							td(ng-if="f.time === undefined")
								| {{f.updated}}
							td(ng-if="f.time !== undefined")
								| {{f.date}}
								br
								| {{f.time}}
							td.col-xs-4.text-center
								a.btn.btn-primary(href="{{f.url}}",target="_blank") View
								button.btn.btn-primary(type="button") Refresh
								if user !== undefined && user.isAdmin
									button.btn.btn-primary(type="button") Remove
include includes/js